<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lil' Homie - House Price Estimator</title>
  
  <!-- Google Fonts: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    /* --- LIL' HOMIE THEME V2 (Integrated CSS) --- */

    :root {
      --bg-gradient-start: #e0f7fa;
      --bg-gradient-end: #80deea;
      --primary: #00bcd4;
      --primary-dark: #0097a7;
      --text-dark: #37474f;
      --text-muted: #546e7a;
      --card-bg: rgba(255, 255, 255, 0.9);
      --input-bg: #f1f8e9;
    }

    body {
      background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
      font-family: 'Poppins', sans-serif;
      color: var(--text-dark);
      margin: 0;
      overflow-x: hidden;
    }

    /* --- Background Blobs --- */
    .bg-blob {
      position: fixed;
      border-radius: 50%;
      z-index: -1;
      filter: blur(80px);
      opacity: 0.5;
      animation: float 20s infinite alternate;
    }

    .blob-1 { top: -10%; left: -10%; width: 600px; height: 600px; background: #4dd0e1; }
    .blob-2 { bottom: -10%; right: -10%; width: 500px; height: 500px; background: #26c6da; animation-delay: -5s; }

    @keyframes float {
      0% { transform: translate(0, 0); }
      100% { transform: translate(40px, 60px); }
    }

    /* --- Sections --- */
    section {
        min-height: 100vh;
        padding: 20px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* --- Glass Card Base --- */
    .glass-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.6);
      box-shadow: 0 15px 35px rgba(0, 188, 212, 0.2);
      padding: 3rem;
      width: 100%;
      max-width: 750px;
    }

    /* --- Hero Section Specifics --- */
    .hero-card {
        max-width: 600px;
        padding: 4rem 2rem;
        text-align: center;
    }

    .icon-wrapper i {
        background: -webkit-linear-gradient(#26c6da, #006064);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
    }

    .hero-title {
        font-weight: 800;
        font-size: 3.5rem;
        color: var(--primary-dark);
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .hero-subtitle {
        font-size: 1.2rem;
        color: var(--text-muted);
        font-weight: 500;
        margin-bottom: 40px;
    }

    .btn-get-started {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.1rem;
        font-weight: 700;
        border-radius: 50px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(0, 188, 212, 0.3);
        display: inline-block;
    }

    .btn-get-started:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 25px rgba(0, 188, 212, 0.4);
        color: white;
    }

    /* --- Form Section Specifics --- */
    .form-title {
        font-weight: 700;
        color: var(--primary-dark);
        text-align: center;
        margin-bottom: 10px;
    }

    .section-label {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: var(--primary);
        border-bottom: 2px solid #b2dfdb;
        display: inline-block;
        padding-bottom: 5px;
        margin-bottom: 15px;
        font-weight: 700;
    }

    .form-control, .form-select, .input-group-text {
        border: 2px solid transparent;
        border-radius: 12px;
        padding: 12px 15px;
        font-size: 0.95rem;
        background-color: var(--input-bg);
        color: var(--text-dark);
        transition: all 0.3s ease;
    }

    .input-group-text {
        border-right: 1px solid #e0e0e0;
        background-color: #ffffff;
        color: var(--primary);
        font-weight: 600;
    }

    .form-control:focus, .form-select:focus {
        background-color: #ffffff;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(0, 188, 212, 0.15);
        outline: none;
    }

    .btn-predict {
        background: linear-gradient(135deg, #26c6da, #00acc1);
        color: white;
        border: none;
        border-radius: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        width: 100%;
        padding: 15px;
        margin-top: 20px;
    }

    .btn-predict:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 172, 193, 0.3);
        color: white;
    }

    /* --- Result Box --- */
    .result-box {
        background: #e0f2f1;
        border: 1px solid #80cbc4;
        border-radius: 16px;
        padding: 2rem;
        animation: slideUp 0.5s ease-out;
        text-align: center;
        margin-top: 30px;
    }

    .result-price {
        font-size: 2.5rem;
        font-weight: 800;
        color: #00695c;
        margin: 0;
    }

    .result-label {
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.85rem;
        color: #546e7a;
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
    }

    @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Animation Class */
    .animate-fade-in {
        animation: fadeIn 1s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- Decorative Background Blobs -->
  <div class="bg-blob blob-1"></div>
  <div class="bg-blob blob-2"></div>
  
  <!-- --- SECTION 1: HERO (Landing) --- -->
  <section class="hero-section">
      <div class="glass-card hero-card animate-fade-in">
        <div class="icon-wrapper mb-4">
            <i class="fas fa-city fa-4x"></i>
        </div>
        <h1 class="hero-title">Lil' Homie</h1>
        <p class="hero-subtitle">The Smartest Way to Estimate Property Prices in Indian Metros</p>
        
        <a href="#prediction-section" class="btn btn-get-started">
            Get Started <i class="fas fa-arrow-down ms-2"></i>
        </a>
      </div>
  </section>

  <!-- --- SECTION 2: PREDICTION FORM --- -->
  <section id="prediction-section">
      <div class="glass-card form-card">
        <div class="header-section mb-4">
          <h2 class="form-title">Property Details</h2>
          <p class="text-center text-muted">Enter the specifications below</p>
        </div>

        <form id="predictionForm">
          
          <!-- Section: Location & Status -->
          <div class="mb-4">
            <h5 class="section-label"><i class="fas fa-map-marker-alt me-2"></i>Location & Status</h5>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">City</label>
                <select class="form-select" id="city" required>
                  <option value="" selected disabled>Select City</option>
                  <option value="Mumbai">Mumbai</option>
                  <option value="Bangalore">Bangalore</option>
                  <option value="Chennai">Chennai</option>
                  <option value="Delhi">Delhi</option>
                  <option value="Pune">Pune</option>
                  <option value="Hyderabad">Hyderabad</option>
                  <option value="Ahmedabad">Ahmedabad</option>
                  <option value="Kolkata">Kolkata</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Possession Status</label>
                <select class="form-select" id="status">
                  <option value="Ready to Move">Ready to Move</option>
                  <option value="Under Construction">Under Construction</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Section: Property Details -->
          <div class="mb-4">
            <h5 class="section-label"><i class="fas fa-ruler-combined me-2"></i>Property Specs</h5>
            <div class="row g-3">
              <div class="col-md-12">
                <label class="form-label">Total Area (Sq. Ft.)</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="area" placeholder="e.g. 1250" min="100" required>
                    <span class="input-group-text">ft²</span>
                </div>
              </div>
              <div class="col-6">
                <label class="form-label">Bedrooms</label>
                <input type="number" class="form-control" id="beds" placeholder="2" min="1" required>
              </div>
              <div class="col-6">
                <label class="form-label">Bathrooms</label>
                <input type="number" class="form-control" id="baths" placeholder="2" min="1" required>
              </div>
            </div>
          </div>

          <!-- Section: Amenities & Building -->
          <div class="mb-4">
            <h5 class="section-label"><i class="fas fa-building me-2"></i>Amenities & Building</h5>
            <div class="row g-3">
              <div class="col-6 col-md-3">
                <label class="form-label">Balconies</label>
                <input type="number" class="form-control" id="balcony" placeholder="0" min="0">
              </div>
              <div class="col-6 col-md-3">
                <label class="form-label">Parking</label>
                <input type="number" class="form-control" id="parking" placeholder="0" min="0">
              </div>
              <div class="col-6 col-md-3">
                <label class="form-label">Floor No.</label>
                <input type="number" class="form-control" id="floor" placeholder="5" min="0">
              </div>
              <div class="col-6 col-md-3">
                <label class="form-label">Total Floors</label>
                <input type="number" class="form-control" id="total_floors" placeholder="15" min="1">
              </div>
            </div>
          </div>

          <button type="submit" class="btn btn-predict">
            Calculate Price
          </button>
        </form>

        <!-- Result Display -->
        <div id="resultCard" class="result-box" style="display: none;">
          <span class="result-label">Estimated Market Value</span>
          <h2 id="priceText" class="result-price">₹ 0</h2>
          <p class="text-muted mt-2 mb-0" style="font-size: 0.8rem;">*AI-generated estimate based on market data.</p>
        </div>

      </div>
  </section>

  <script>
    // Smooth Scroll for "Get Started" button
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Prediction Logic
    document.getElementById('predictionForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const btn = document.querySelector('.btn-predict');
      const originalText = btn.innerHTML;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Calculating...';
      btn.disabled = true;

      const formData = {
        city: document.getElementById('city').value,
        status: document.getElementById('status').value,
        area_sqft: document.getElementById('area').value,
        beds: document.getElementById('beds').value,
        baths: document.getElementById('baths').value,
        balcony: document.getElementById('balcony').value || 0,
        parking: document.getElementById('parking').value || 0,
        floor: document.getElementById('floor').value || 0,
        total_floors: document.getElementById('total_floors').value || 0
      };

      try {
        const response = await fetch('/predict', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(formData)
        });

        const result = await response.json();
        const resultDiv = document.getElementById('resultCard');
        const priceText = document.getElementById('priceText');
        
        resultDiv.style.display = 'block';
        
        if (result.predicted_price) {
            const price = new Intl.NumberFormat('en-IN', {
              style: 'currency', currency: 'INR', maximumFractionDigits: 0
            }).format(result.predicted_price);
            
            priceText.innerText = price;
            priceText.style.color = "#00695c";
            
            // Smooth scroll to result
            setTimeout(() => {
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        } else {
            priceText.innerText = "Error";
        }
        
      } catch (error) {
        alert("Connection Error! Ensure python server.py is running.");
      } finally {
        btn.innerHTML = originalText;
        btn.disabled = false;
      }
    });
  </script>
</body>
</html>